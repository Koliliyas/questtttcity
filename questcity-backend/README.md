# Questcity Backend

## Развёртывание локально
Все команды необходимо выполнять в **корневой папке проекта**

1. Установка [Docker](https://www.docker.com/get-started/)
2. Скопировать и настроить переменные окружения в файле .env
    ```bash
     copy .env.example .env
    ```
3. Запуск проекта (доступно по адресу https://0.0.0.0)
    ```bash
    docker compose --profile api up -d
    ```
4. Остановка проекта и удаление контейнеров и базы данных
    ```bash
    docker compose --profile api down -v
    ```
## Прежде чем запустить проект

### Переменные окружения. Файл .env
Для нормальной работы проекта нужно дополнить .env.

## Swagger

Документация Swagger API доступна по адресу ```/api/docs```
    
## По чистоте кода
Чистота кода обеспечивается использованием `task` (конфигурация команд в `Taskfile.yml`), но даже если он не установлен, то команды следующие:
```bash
ruff format .  # Автоформатирование под PEP8
ruff check .   # Проверка на наличие неисправленных ошибок
isort .        # Исправление порядка и вида импортов
mypy .         # Проверка аннотаций типов
```

Получение ключей для S3:
После запуска контейнера с s3-minio необходимо зайти в консоль `http://127.0.0.1:9000` используя `S3_ROOT_USER` и
`S3_ROOT_PASSWORD`, и во вкладке `Access Keys` создать пару ключей и указать их в `S3_ACCESS_KEY` и
`S3_SECRET_KEY` после чего сребилдить backend-контейнер