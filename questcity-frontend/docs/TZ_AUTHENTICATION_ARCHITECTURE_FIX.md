# üîß –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 29 —è–Ω–≤–∞—Ä—è 2025  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–°—Ç–∞—Ç—É—Å:** üìã –ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é  

---

## üéØ –¶–ï–õ–¨ –ó–ê–î–ê–ù–ò–Ø

–£—Å—Ç—Ä–∞–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ —Å–∏—Å—Ç–µ–º–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Å–±–æ—è–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å backend API.

---

## üîç –ê–ù–ê–õ–ò–ó –¢–ï–ö–£–©–ï–ì–û –°–û–°–¢–û–Ø–ù–ò–Ø

### ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–æ–±–ª–µ–º–∞ —Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π**

–û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ —Ä–µ—à–µ–Ω–∞:
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ `_loadCategories()`
- –î–æ–±–∞–≤–ª–µ–Ω—ã HTTP —Ç–∞–π–º–∞—É—Ç—ã (30 —Å–µ–∫—É–Ω–¥)
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### üö® **–ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ (—Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):**

#### **1. –ö–û–ù–§–õ–ò–ö–¢ DATASOURCE –ò–ù–¢–ï–†–§–ï–ô–°–û–í**
- **–°—Ç–∞—Ä—ã–π**: `auth_remote_data_source_impl.dart` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `void` + –∏—Å–∫–ª—é—á–µ–Ω–∏—è)
- **–ù–æ–≤—ã–π**: `auth/auth_remote_data_source.dart` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Either<Failure, T>`)
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ DI —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

#### **2. –ù–ï–°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨ –ö–õ–Æ–ß–ï–ô –¢–û–ö–ï–ù–û–í**
- **Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç**: `access_token`, `refresh_token`
- **–°—Ç–∞—Ä—ã–π –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç**: `persons['accessToken']`, `persons['refreshToken']`
- **–ù–æ–≤—ã–π –∫–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç**: `json['access_token']` ‚Üí `refreshToken`

#### **3. HARDCODED VALUES –í WEBSOCKET**
- –ó–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã URL –∏ Bearer —Ç–æ–∫–µ–Ω—ã –≤ WebSocket —Å–µ—Ä–≤–∏—Å–∞—Ö
- –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### **4. –û–¢–°–£–¢–°–¢–í–ò–ï .env –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò**
- –ö–æ–¥ –ø—ã—Ç–∞–µ—Ç—Å—è —á–∏—Ç–∞—Ç—å `dotenv.env['BASE_URL']` –Ω–æ —Ñ–∞–π–ª–∞ –º–æ–∂–µ—Ç –Ω–µ –±—ã—Ç—å

---

## üìã –ó–ê–î–ê–ß–ò –ö –í–´–ü–û–õ–ù–ï–ù–ò–Æ

### **–ó–ê–î–ê–ß–ê 1: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è AuthRemoteDataSource** 
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–í—Ä–µ–º—è:** 60 –º–∏–Ω—É—Ç  

#### **1.1. –í—ã–±–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
- **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π `AuthRemoteDataSource` —Å `Either<Failure, T>`
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

#### **1.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**

**–§–∞–π–ª:** `lib/locator_service.dart`
```dart
// –£–î–ê–õ–ò–¢–¨ (—Å—Ç—Ä–æ–∫–∞ 281-283):
sl.registerLazySingleton<AuthRemoteDataSource>(
  () => AuthRemoteDataSourceImpl(client: sl(), secureStorage: sl()),
);

// –ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:
sl.registerLazySingleton<AuthRemoteDataSource>(
  () => AuthRemoteDataSourceImpl(
    httpClient: sl<HttpClient>(), 
    networkInfo: sl(),
  ),
);

// –î–û–ë–ê–í–ò–¢–¨ –†–ï–ì–ò–°–¢–†–ê–¶–ò–Æ HttpClient:
sl.registerLazySingleton(() => HttpClient());
```

#### **1.3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AuthRepository**

**–§–∞–π–ª:** `lib/features/data/repositories/auth_repository_impl.dart`
- –ò–∑–º–µ–Ω–∏—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã —Å `Future<Either<Failure, void>>` –Ω–∞ `Future<Either<Failure, TokenResponseModel>>`
- –û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç–æ–¥—ã `login()` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤

#### **1.4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Domain Repository**

**–§–∞–π–ª:** `lib/features/domain/repositories/auth_repository.dart`
- –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–≥–Ω–∞—Ç—É—Ä—É –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤

---

### **–ó–ê–î–ê–ß–ê 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π —Ç–æ–∫–µ–Ω–æ–≤**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô  
**–í—Ä–µ–º—è:** 30 –º–∏–Ω—É—Ç  

#### **2.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å Backend**

**Backend API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```json
{
  "access_token": "...",
  "refresh_token": "..."
}
```

#### **2.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ AuthRemoteDataSource**

**–§–∞–π–ª:** `lib/features/data/datasources/auth_remote_data_source_impl.dart`
```dart
// –ó–ê–ú–ï–ù–ò–¢–¨ (—Å—Ç—Ä–æ–∫–∏ 59-63):
await secureStorage.write(
    key: SharedPreferencesKeys.accessToken, value: persons['accessToken']);
await secureStorage.write(
    key: SharedPreferencesKeys.refreshToken, value: persons['refreshToken']);

// –ù–ê:
await secureStorage.write(
    key: SharedPreferencesKeys.accessToken, value: persons['access_token']);
await secureStorage.write(
    key: SharedPreferencesKeys.refreshToken, value: persons['refresh_token']);
```

#### **2.3. –ü—Ä–æ–≤–µ—Ä–∫–∞ refreshToken –º–µ—Ç–æ–¥–∞**

**–§–∞–π–ª:** `lib/features/data/datasources/auth_remote_data_source_impl.dart`
```dart
// –ó–ê–ú–ï–ù–ò–¢–¨ (—Å—Ç—Ä–æ–∫–∏ 192-198):
await secureStorage.write(
  key: SharedPreferencesKeys.accessToken,
  value: persons['accessToken'],
);
await secureStorage.write(
    key: SharedPreferencesKeys.refreshToken, value: persons['refreshToken']);

// –ù–ê:
await secureStorage.write(
  key: SharedPreferencesKeys.accessToken,
  value: persons['access_token'],
);
await secureStorage.write(
    key: SharedPreferencesKeys.refreshToken, value: persons['refresh_token']);
```

---

### **–ó–ê–î–ê–ß–ê 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WebSocket –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô  
**–í—Ä–µ–º—è:** 45 –º–∏–Ω—É—Ç  

#### **3.1. –£–¥–∞–ª–µ–Ω–∏–µ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π**

**–§–∞–π–ª:** `lib/core/web_socket_service.dart`
```dart
// –ó–ê–ú–ï–ù–ò–¢–¨ (—Å—Ç—Ä–æ–∫–∏ 9-16):
_channel = IOWebSocketChannel.connect(
  Uri.parse(
      'wss://questicity.com/api/v1.0/chats/b89d37c1-4e56-407b-80d4-cab96cf6be75ff29dadd-b918-4703-9f0b-cecfa2eea7e0'),
  headers: {
    'Authorization':
        'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmYmlkIjoiZmJpZCIsImlkX3VzZXIiOjIwLCJleHBpcmVfdGltZSI6MjU5MjAwMCwiZXhwIjoxNzI2NTE3OTE0fQ.VmPTMKMS0Uh-RRRoG97_yvN-T5-cofG27e06Fjuplwk',
  },
);

// –ù–ê:
final baseWsUrl = dotenv.env['BASE_URL']!.replaceFirst('https', 'wss');
final token = await secureStorage.read(key: SharedPreferencesKeys.accessToken);
_channel = IOWebSocketChannel.connect(
  Uri.parse('${baseWsUrl}chats/$chatId'),
  headers: {
    'Authorization': 'Bearer $token',
  },
);
```

#### **3.2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ WebSocketRemoteDataSource**

**–§–∞–π–ª:** `lib/features/data/datasources/web_socket_remote_data_source_impl.dart`
```dart
// –ó–ê–ú–ï–ù–ò–¢–¨ (—Å—Ç—Ä–æ–∫–∏ 29-32):
channel = IOWebSocketChannel.connect(
    Uri.parse(
        'wss://questicity.com/api/v1.0/chats/37e880cc-f1e9-4268-a5bc-86c5c5b62f99d9473c45-c6cb-4cb8-903a-0628766b65cc'),
    headers: {'Authorization': 'Bearer $serverToken'});

// –ù–ê:
final baseWsUrl = dotenv.env['BASE_URL']!.replaceFirst('https', 'wss');
channel = IOWebSocketChannel.connect(
    Uri.parse('${baseWsUrl}chats/$token'),
    headers: {'Authorization': 'Bearer $serverToken'});
```

---

### **–ó–ê–î–ê–ß–ê 4: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞**
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°–†–ï–î–ù–ò–ô  
**–í—Ä–µ–º—è:** 15 –º–∏–Ω—É—Ç  

#### **4.1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

**–§–∞–π–ª:** `.env` (—Å–æ–∑–¥–∞—Ç—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)
```env
# API Configuration
BASE_URL=http://10.0.2.2:8000/api/v1/

# Firebase Configuration  
FIREBASE_ENABLED=true

# Debug Configuration
DEBUG_MODE=true

# Network Configuration
NETWORK_TIMEOUT=30
CONNECTION_TIMEOUT=15
```

#### **4.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .gitignore**
```gitignore
# Environment variables
.env
.env.local
.env.*.local
```

---

## üîÑ –ü–†–û–í–ï–†–ö–ê –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–ò

### **–ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π:**

#### **‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–µ–π —Ç–æ–∫–µ–Ω–æ–≤** - –º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø–∞—Ä—Å–∏–Ω–≥ JSON –æ—Ç–≤–µ—Ç–æ–≤
2. **–°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞** - –¥–æ–±–∞–≤–ª—è–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. **WebSocket –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è** - —É–±–∏—Ä–∞–µ—Ç hardcode, —É–ª—É—á—à–∞–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

#### **‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è:**
1. **–ó–∞–º–µ–Ω–∞ AuthRemoteDataSource** - –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
2. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ AuthRepository –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - –º–æ–∂–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å UseCase

### **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–í–ï–†–ö–ê: –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

#### **1. Auth Use Cases (–í–´–°–û–ö–ò–ô –†–ò–°–ö)**
–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ Use Case, –∫–æ—Ç–æ—Ä—ã–µ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

**–ó–∞–≤–∏—Å–∏–º—ã–µ —Ñ–∞–π–ª—ã:**
- `lib/features/domain/usecases/auth/auth_login.dart`
- `lib/features/domain/usecases/auth/auth_register.dart` 
- `lib/features/domain/usecases/auth/reload_token.dart`
- `lib/features/domain/usecases/auth/verify_code.dart`
- `lib/features/domain/usecases/auth/get_verification_code.dart`
- `lib/features/domain/usecases/auth/reset_password.dart`
- `lib/features/domain/usecases/auth/verify_reset_password.dart`

**–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ Cubit:**
- `LoginScreenCubit` (—Å—Ç—Ä–æ–∫–∏ 94-100 –≤ locator_service.dart)
- `SignInScreenCubit` (—Å—Ç—Ä–æ–∫–∞ 101-103)
- `EnterTheCodeScreenCubit` (—Å—Ç—Ä–æ–∫–∏ 107-116)
- `SplashScreenCubit` (—Å—Ç—Ä–æ–∫–∏ 132-137)
- `ForgetPasswordScreenCubit` (—Å—Ç—Ä–æ–∫–∏ 104-106)

#### **2. Auth Repository –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–í–´–°–û–ö–ò–ô –†–ò–°–ö)**

**‚ö†Ô∏è –û–ë–ù–ê–†–£–ñ–ï–ù –ö–û–ù–§–õ–ò–ö–¢ –≤ questcity-frontend-current-broken:**
- –ï—Å—Ç—å –Ω–æ–≤—ã–π `AuthRepository` —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ (—Å—Ç—Ä–æ–∫–∞ 11-34 –≤ repositories/auth_repository_impl.dart)
- –ï—Å—Ç—å —Å—Ç–∞—Ä—ã–π `AuthRepository` (—Å—Ç—Ä–æ–∫–∞ 4 –≤ domain/repositories/auth_repository.dart)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê:**
- –°—Ä–∞–≤–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–≤—É—Ö AuthRepository
- –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤—Å–µ –º–µ—Ç–æ–¥—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã

#### **3. –ù–æ–≤—ã–π Auth Bloc (–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)**

**‚ö†Ô∏è –ù–ê–ô–î–ï–ù AuthBloc –≤ current-broken –≤–µ—Ä—Å–∏–∏:**
```dart
// –í questcity-frontend-current-broken/lib/features/presentation/bloc/auth/auth_bloc.dart
final AuthRepository authRepository;
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–µ—Ç–æ–¥—ã: isLoggedIn, hasValidTokens, getAccessToken, login, register, etc.
```

**–≠–¢–û–¢ BLOC –ù–ï –ó–ê–†–ï–ì–ò–°–¢–†–ò–†–û–í–ê–ù –í –û–°–ù–û–í–ù–û–ô –í–ï–†–°–ò–ò!**

### **–ü—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º:**

#### **1. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø –ø—Ä–æ–≤–µ—Ä–∫–∞ AuthRepository –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤**
```bash
# –°—Ä–∞–≤–Ω–∏—Ç—å domain repository
diff questcity-frontend/lib/features/domain/repositories/auth_repository.dart \
     questcity-frontend-current-broken/lib/features/domain/repositories/auth_repository.dart

# –°—Ä–∞–≤–Ω–∏—Ç—å data repository  
diff questcity-frontend/lib/features/data/repositories/auth_repository_impl.dart \
     questcity-frontend-current-broken/lib/features/repositories/auth_repository_impl.dart
```

#### **2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ Use Cases**
```bash
grep -r "authRepository\." lib/features/domain/usecases/auth/
```

#### **3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏**
```bash
grep -A5 -B5 "AuthRepository\|AuthRemoteDataSource" lib/locator_service.dart
```

#### **4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å missing AuthBloc**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω—É–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å AuthBloc –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ä—Å–∏—é
ls questcity-frontend-current-broken/lib/features/presentation/bloc/auth/
```

---

## üìù –ü–õ–ê–ù –í–´–ü–û–õ–ù–ï–ù–ò–Ø

### **–≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (15 –º–∏–Ω)**
1. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
2. –û–±–Ω–æ–≤–∏—Ç—å .gitignore
3. –°–æ–∑–¥–∞—Ç—å backup —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞

### **–≠—Ç–∞–ø 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (30 –º–∏–Ω)**  
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–ª—é—á–∏ –≤ auth_remote_data_source_impl.dart
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å login/refresh flows
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### **–≠—Ç–∞–ø 3: WebSocket –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (45 –º–∏–Ω)**
1. –£–±—Ä–∞—Ç—å hardcoded –∑–Ω–∞—á–µ–Ω–∏—è
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç–æ–∫–µ–Ω—ã  
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### **–≠—Ç–∞–ø 4: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è DataSource (60 –º–∏–Ω)**
1. –û–±–Ω–æ–≤–∏—Ç—å DI —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
2. –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å Repository
3. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### **–≠—Ç–∞–ø 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (30 –º–∏–Ω)**
1. –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
3. WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
4. –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ú–û–ú–ï–ù–¢–´

### **1. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**
- **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- –ö–∞–∂–¥—ã–π —ç—Ç–∞–ø —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö - –æ—Ç–∫–∞—Ç–∏—Ç—å—Å—è –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —ç—Ç–∞–ø—É

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–æ—É (login, splash, main screen)
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –æ—à–∏–±–æ–∫

### **3. Rollback –ø–ª–∞–Ω**
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å backup –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º
- –ü—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö - –æ—Ç–∫–∞—Ç –∫ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üéØ –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —á—Ç–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–µ–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±–µ–∑ –æ—à–∏–±–æ–∫

### **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ:**
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –≤ DI
- ‚úÖ –ï–¥–∏–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π
- ‚úÖ –ù–∞–ª–∏—á–∏–µ —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env

### **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ:**
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ warning'–æ–≤ –∏ error'–æ–≤
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

## üìö –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ú–ê–¢–ï–†–ò–ê–õ–´

### **–°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `HIGH_PRIORITY_FRONTEND_INTEGRATION_TASKS.md` - –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º—ã
- `FRONTEND_CODE_REVIEW_TASKS.md` - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏
- `docs/reports/DEBUG_REPORT.md` - –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### **Backend API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
- `/api/v1/auth/login` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `access_token`, `refresh_token`
- `/api/v1/auth/refresh-token` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `/api/v1/users/me` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø

### **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø –ü–ï–†–ï–î –ù–ê–ß–ê–õ–û–ú:**

#### **1. –ü–æ–ª–Ω—ã–π Backup**
```bash
# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—É—é –∫–æ–ø–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cp -r questcity-frontend questcity-frontend-backup-$(date +%Y%m%d_%H%M%S)
```

#### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤**
```bash
# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å—Ä–∞–≤–Ω–∏—Ç—å AuthRepository –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
# questcity-frontend VS questcity-frontend-current-broken
# –ï—Å–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è - –û–°–¢–ê–ù–û–í–ò–¢–¨ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
```

#### **3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏—é
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å login/splash/main screen flow
- –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö - –ù–ï–ú–ï–î–õ–ï–ù–ù–´–ô –æ—Ç–∫–∞—Ç –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é

### **–°–¢–û–ü-–§–ê–ö–¢–û–†–´ (–ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –ù–ï –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å):**

1. **‚ùå –ï—Å–ª–∏ AuthRepository –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —Ä–∞–∑–Ω—ã–µ**
2. **‚ùå –ï—Å–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏**  
3. **‚ùå –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–º–∞–ª—Å—è**
4. **‚ùå –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –Ω–µ—É—á—Ç–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç AuthRepository**

### **–ü–ª–∞–Ω –æ—Ç–∫–∞—Ç–∞:**
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¢–ó
2. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup
3. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–µ –¢–ó –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
4. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∞–Ω–∞–ª–∏–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

---

## üìû –ü–û–î–î–ï–†–ñ–ö–ê –ò –í–û–ü–†–û–°–´

### **–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:**

1. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å** –∫–∞–∂–¥—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
2. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏** –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏/–≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
3. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑** –¥–ª—è –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
4. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö

### **–ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏:**
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
- ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–π login flow
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ splash screen
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ main screen –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –î–∞–Ω–Ω–æ–µ –¢–ó –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –≥–ª—É–±–æ–∫–æ–º –∞–Ω–∞–ª–∏–∑–µ –∫–æ–¥–∞ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º.

**üî• –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç.

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó –†–ò–°–ö–û–í –í–´–ü–û–õ–ù–ï–ù–ò–Ø –¢–ó

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 29 —è–Ω–≤–∞—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ü–†–ò–ù–Ø–¢–ò–Ø –†–ï–®–ï–ù–ò–Ø

### üìä **–°–£–ú–ú–ê–†–ù–ê–Ø –û–¶–ï–ù–ö–ê –†–ò–°–ö–û–í:**

#### **üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö #1: –ü–û–õ–ù–ê–Ø –ó–ê–ú–ï–ù–ê AuthRemoteDataSource**

**üìã –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´:**
- **–°—Ç–∞—Ä—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ä–∞–±–æ—á–∏–π)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Future<void>` + –±—Ä–æ—Å–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- **–ù–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–∏–∑ broken –≤–µ—Ä—Å–∏–∏)**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Future<Either<Failure, T>>` + —Ä–∞–∑–Ω—ã–µ –º–µ—Ç–æ–¥—ã

**üí• –ú–ê–°–®–¢–ê–ë –ü–û–õ–û–ú–ö–ò:**
```dart
// –°–¢–ê–†–´–ô (—Ä–∞–±–æ—á–∏–π):
Future<void> login(String email, String password)  // –ü–†–û–°–¢–´–ï –ü–ê–†–ê–ú–ï–¢–†–´

// –ù–û–í–´–ô (–∏–∑ broken –≤–µ—Ä—Å–∏–∏):  
Future<Either<Failure, TokenResponseModel>> login(LoginRequestModel request)  // MODEL –ü–ê–†–ê–ú–ï–¢–†–´!
```

**üö® –ß–¢–û –°–õ–û–ú–ê–ï–¢–°–Ø:**
1. **AuthRepositoryImpl** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º, –Ω—É–∂–Ω–∞ –ü–û–õ–ù–ê–Ø –ø–µ—Ä–µ–ø–∏—Å–∫–∞
2. **–í—Å–µ UseCases** - –º–æ–≥—É—Ç —Å–ª–æ–º–∞—Ç—å—Å—è –∏–∑-–∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä  
3. **DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä** - –Ω—É–∂–Ω—ã –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`HttpClient` –≤–º–µ—Å—Ç–æ `http.Client`)
4. **–í—Å–µ 5 Cubit'–æ–≤** –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö auth —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

**‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê:** –¢–ó –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å —Ä–∞–±–æ—á—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –Ω–∞ –∫–æ–¥ –∏–∑ `current-broken` –≤–µ—Ä—Å–∏–∏!

---

#### **üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö #2: –ò–ó–ú–ï–ù–ï–ù–ò–ï AuthRepository –ò–ù–¢–ï–†–§–ï–ô–°–ê**

**üìã –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´:**
```dart
// –¢–ï–ö–£–©–ò–ô AuthRepository (—Ä–∞–±–æ—á–∏–π):
Future<Either<Failure, void>> login(String email, String password);

// –ù–û–í–´–ô –∏–∑ –¢–ó:
Future<Either<Failure, TokenResponseModel>> login(LoginRequestModel request);
```

**üí• –ß–¢–û –°–õ–û–ú–ê–ï–¢–°–Ø:**
1. **–í–°–ï 7 AUTH USECASES** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ä—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã:
   - `AuthLogin`, `AuthRegister`, `VerifyCode`, `ReloadToken`
   - `ResetPassword`, `VerifyResetPassword`, `GetVerificationCode`
2. **5 CUBIT'–æ–≤** - –æ–∂–∏–¥–∞—é—Ç —Å—Ç–∞—Ä—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ —Ç–∏–ø—ã:
   - `LoginScreenCubit`, `SignInScreenCubit`, `EnterTheCodeScreenCubit`
   - `SplashScreenCubit`, `ForgetPasswordScreenCubit`
3. **SplashScreenCubit** - –º–æ–∂–µ—Ç –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã —Ç–æ–∫–µ–Ω–æ–≤

**‚ö†Ô∏è BREAKING CHANGES:** –ü–æ—Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∫–∏ 12+ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

#### **‚ö†Ô∏è –í–´–°–û–ö–ò–ô –†–ò–°–ö #3: –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–õ–Æ–ß–ï–ô –¢–û–ö–ï–ù–û–í**

**üìã –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´:**
```dart
// –¢–ï–ö–£–©–ò–ô –ö–û–î (–º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º backend):
persons['accessToken'], persons['refreshToken'] 

// –ü–†–ï–î–õ–ê–ì–ê–ï–ú–û–ï –ò–ó–ú–ï–ù–ï–ù–ò–ï:  
persons['access_token'], persons['refresh_token']
```

**üí• –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö:**
- –ï—Å–ª–∏ backend –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `accessToken` ‚Üí **–ü–û–õ–ù–ê–Ø –ü–û–¢–ï–†–Ø –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò**
- –ù–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–∞ backend
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**üîç –¢–†–ï–ë–£–ï–¢–°–Ø:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ backend –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º

---

#### **‚úÖ –ù–ò–ó–ö–ò–ô –†–ò–°–ö #4: WebSocket –ò .env –ò–ó–ú–ï–ù–ï–ù–ò–Ø**

**üìã –û–ü–ò–°–ê–ù–ò–ï:**
- –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
- –£–¥–∞–ª–µ–Ω–∏–µ hardcoded –∑–Ω–∞—á–µ–Ω–∏–π –≤ WebSocket
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

**‚ö° –û–¶–ï–ù–ö–ê:** –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã, –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π auth flow

---

### üõë **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –°–¢–û–ü-–§–ê–ö–¢–û–†–´:**

#### **1. –¢–ó –û–°–ù–û–í–ê–ù–û –ù–ê –°–õ–û–ú–ê–ù–ù–û–ô –í–ï–†–°–ò–ò**
- –ù–æ–≤—ã–π `AuthRemoteDataSource` –≤–∑—è—Ç –∏–∑ `questcity-frontend-current-broken`
- –≠—Ç–æ –≤–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è **–£–ñ–ï –ù–ï –†–ê–ë–û–¢–ê–ï–¢**!
- –ó–∞–º–µ–Ω–∞ —Ä–∞–±–æ—á–µ–≥–æ –∫–æ–¥–∞ –Ω–∞ —Å–ª–æ–º–∞–Ω–Ω—ã–π

#### **2. –ú–ê–°–°–ò–í–ù–´–ï BREAKING CHANGES**  
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –∑–∞—Ç—Ä–æ–Ω–µ—Ç 12+ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–æ—Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏ auth —Å–∏—Å—Ç–µ–º—ã
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ –≤–Ω–µ—Å—Ç–∏ –Ω–æ–≤—ã–µ –±–∞–≥–∏

#### **3. –ù–ï–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø**
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞ –æ—Ç–≤–µ—Ç–æ–≤ backend
- –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ –∫–ª—é—á–∞—Ö —Ç–æ–∫–µ–Ω–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–º–∏
- –ú–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å —Ä–∞–±–æ—Ç–∞—é—â—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

#### **4. –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–ê–Ø –ù–ï–°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨**
- –°–º–µ—à–∏–≤–∞–Ω–∏–µ –¥–≤—É—Ö —Ä–∞–∑–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
- Exception-based vs Either-based error handling
- –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

### üéØ **–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –°–ù–ò–ñ–ï–ù–ò–Æ –†–ò–°–ö–û–í:**

#### **üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –†–ï–®–ï–ù–ò–ï –¢–†–ï–ë–£–ï–¢–°–Ø:**

**‚ùå –ü–û–õ–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –¢–ó = –í–´–°–û–ö–ò–ô –†–ò–°–ö –°–õ–û–ú–ê–¢–¨ –í–°–Å**

**‚úÖ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –ë–ï–ó–û–ü–ê–°–ù–´–ô –ü–û–î–•–û–î:**

#### **–≠–¢–ê–ü 1: –ü–†–û–í–ï–†–ö–ê –ò –ê–ù–ê–õ–ò–ó**
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç backend** –Ω–∞ login –∑–∞–ø—Ä–æ—Å
2. **–°—Ä–∞–≤–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã** –º–µ–∂–¥—É —Ä–∞–±–æ—á–µ–π –∏ broken –≤–µ—Ä—Å–∏—è–º–∏  
3. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π auth flow** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

#### **–≠–¢–ê–ü 2: –ë–ï–ó–û–ü–ê–°–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø**
1. **‚úÖ –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª** (–Ω–∏–∑–∫–∏–π —Ä–∏—Å–∫)
2. **‚úÖ –ò—Å–ø—Ä–∞–≤–∏—Ç—å WebSocket hardcode** (—Å—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫)
3. **‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–ª—é—á–∏ —Ç–æ–∫–µ–Ω–æ–≤ –¢–û–õ–¨–ö–û –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ backend**

#### **–≠–¢–ê–ü 3: –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (–û–¢–õ–û–ñ–ò–¢–¨)**
1. **üõë –ù–ï –ú–ï–ù–Ø–¢–¨ AuthRemoteDataSource** –±–µ–∑ –≥–ª—É–±–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
2. **üõë –ù–ï –ú–ï–ù–Ø–¢–¨ AuthRepository –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –±–µ–∑ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **üõë –ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –ö–û–î –∏–∑ broken –≤–µ—Ä—Å–∏–∏** –±–µ–∑ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

### üìã **–ü–õ–ê–ù –ü–†–ò–ù–Ø–¢–ò–Ø –†–ï–®–ï–ù–ò–Ø:**

#### **–í–ê–†–ò–ê–ù–¢ A: –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ WebSocket –∏ .env
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω—ã –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞–±–æ—á—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

#### **–í–ê–†–ò–ê–ù–¢ B: –ü–û–≠–¢–ê–ü–ù–ê–Ø –ú–ò–ì–†–ê–¶–ò–Ø**
- –°–Ω–∞—á–∞–ª–∞ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –≤ broken –≤–µ—Ä—Å–∏–∏
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –æ—Ç–¥–µ–ª—å–Ω–æ
- –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—á—É—é –≤–µ—Ä—Å–∏—é

#### **–í–ê–†–ò–ê–ù–¢ C: –ü–û–õ–ù–û–ï –í–´–ü–û–õ–ù–ï–ù–ò–ï –¢–ó (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)**
- –í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫ —Å–ª–æ–º–∞—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É
- –¢—Ä–µ–±—É–µ—Ç –Ω–µ–¥–µ–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏
- –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

---

### ‚ö†Ô∏è **–ò–¢–û–ì–û–í–û–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–ï:**

**–î–ê–ù–ù–û–ï –¢–ó –í –¢–ï–ö–£–©–ï–ú –í–ò–î–ï –°–û–î–ï–†–ñ–ò–¢ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –†–ò–°–ö–ò!**

–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—É–Ω–∫—Ç–æ–≤ –¢–ó –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫:
- –ü–æ–ª–Ω–æ–π –ø–æ–ª–æ–º–∫–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ—Ç–µ—Ä–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é  
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –î–ª–∏—Ç–µ–ª—å–Ω–æ–º—É –ø–µ—Ä–∏–æ–¥—É –æ—Ç–ª–∞–¥–∫–∏ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–ù–ê–°–¢–û–Ø–¢–ï–õ–¨–ù–û –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥—Ö–æ–¥ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è.**

---

**üìÖ –°–¢–ê–¢–£–°:** –¢—Ä–µ–±—É–µ—Ç –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è  
**üéØ –¶–ï–õ–¨:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –±–µ–∑ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞  
**‚ö° –ü–†–ò–û–†–ò–¢–ï–¢:** –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å > –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞