# QuestCity Backend - –õ–æ–∫–∞–ª—å–Ω–∞—è vs –£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

## üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Local Development)

### ‚úÖ –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ** - –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ.

### üñ•Ô∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
```
localhost:8000    ‚Üê QuestCity Backend (Python/FastAPI)
localhost:5432    ‚Üê PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
localhost:9000    ‚Üê MinIO —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
localhost:3000    ‚Üê Flutter —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (–ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–ë—ã—Å—Ç—Ä–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è** - –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- **–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å** - –º–æ–∂–µ—Ç–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å/–∑–∞–ø—É—Å–∫–∞—Ç—å –ª—é–±–æ–π —Å–µ—Ä–≤–∏—Å
- **–û—Ç–ª–∞–¥–∫–∞** - breakpoints, –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –º–æ–∂–µ—Ç–µ –ª–æ–º–∞—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ –±–µ–∑ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π
- **Offline —Ä–∞–±–æ—Ç–∞** - –Ω–µ –Ω—É–∂–µ–Ω –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```
/Users/evgenijglusenko/Desktop/Questcity/
‚îú‚îÄ‚îÄ questcity-backend/     ‚Üê –õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–¥
‚îú‚îÄ‚îÄ questcity-frontend/    ‚Üê –õ–æ–∫–∞–ª—å–Ω—ã–π –∫–æ–¥  
‚îî‚îÄ‚îÄ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
```

---

## ‚òÅÔ∏è –£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (Remote/Cloud Development)

### ‚úÖ –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏** - —á–∞—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö.

### üåê –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã:
```
localhost:8000         ‚Üê Backend (–ª–æ–∫–∞–ª—å–Ω–æ)
remote-db.aws.com      ‚Üê PostgreSQL –≤ –æ–±–ª–∞–∫–µ
remote-s3.aws.com      ‚Üê S3 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –æ–±–ª–∞–∫–µ
questcity.com          ‚Üê –ü—Ä–æ–¥–∞–∫—à–µ–Ω API
```

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å production/staging –¥–∞–Ω–Ω—ã–º–∏
- **–°–µ—Ç–µ–≤—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏** - –º–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º –ª–æ–∫–∞–ª—å–Ω–æ
- **–û–±—â–∏–µ —Ä–µ—Å—É—Ä—Å—ã** - –¥—Ä—É–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å** - –Ω—É–∂–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞** - —Å–ª–æ–∂–Ω–µ–µ debug —É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

## üéØ –î–ª—è QuestCity - —á—Ç–æ –≤—ã–±—Ä–∞—Ç—å?

### üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤  
- ‚úÖ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–æ–¥–æ–º
- ‚úÖ –û–±—É—á–µ–Ω–∏–µ/–∏–∑—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è QuestCity:**
- –ú–æ–∂–µ—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ —Å—Ç—Ä–∞—Ö–∞
- –ë—ã—Å—Ç—Ä–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ API
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Ñ–∞–π–ª–æ–≤—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
- –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ù—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ª–æ–∫–∞–ª—å–Ω–æ
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –æ—Ç production

### ‚òÅÔ∏è –£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- ‚úÖ –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å production –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –û—Ç–ª–∞–¥–∫–∞ production –±–∞–≥–æ–≤
- ‚úÖ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –∑–∞–∫–∞–∑—á–∏–∫—É

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –¢–æ—á–Ω–æ —Ç–∞–∫–∞—è –∂–µ —Å—Ä–µ–¥–∞ –∫–∞–∫ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏
- –†–∏—Å–∫ –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–¥–∫–∞

---

## üîÑ –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–û–ü–¢–ò–ú–ê–õ–¨–ù–û)

### üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:

```mermaid
graph LR
    A[–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞] --> B[Staging —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ]
    B --> C[Production —Ä–µ–ª–∏–∑]
    
    A1[localhost:8000<br/>–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞] 
    B1[staging.questcity.com<br/>–§–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã]
    C1[questcity.com<br/>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏]
```

### üìã Workflow:
1. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Üí –õ–æ–∫–∞–ª—å–Ω–æ (–±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ)
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí Staging (—Ä–µ–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞)  
3. **–†–µ–ª–∏–∑** ‚Üí Production (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

---

## üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ä–µ–¥

### üè† –õ–æ–∫–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞:
```bash
# Backend
cd questcity-backend/main
cp .env.development .env
poetry run python3 main.py

# Frontend  
cd questcity-frontend
cp .env.development .env
flutter run
```

### ‚òÅÔ∏è –£–¥–∞–ª–µ–Ω–Ω–∞—è —Å—Ä–µ–¥–∞:
```bash
# Backend –æ—Å—Ç–∞–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–º
cd questcity-backend/main
cp .env.production .env  # –£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
poetry run python3 main.py

# Frontend –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É API
cd questcity-frontend
cp .env.production .env  # BASE_URL=https://questcity.com/api/
flutter run
```

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ª–æ–∫–∞–ª—å–Ω–æ
2. –ò–∑—É—á–∏—Ç–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞
3. –†–∞–∑—Ä–∞–±–æ—Ç–∞–π—Ç–µ –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ

### ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–π –¥–ª—è:
1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑—á–∏–∫—É
3. –§–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. Production –æ—Ç–ª–∞–¥–∫–∏

### ‚ö†Ô∏è –ù–∏–∫–æ–≥–¥–∞ –Ω–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –≤ production:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ staging —Å—Ä–µ–¥—É
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –∫–æ–ø–∏–∏ –¥–∞–Ω–Ω—ã—Ö
- –î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏

---

## üéØ –î–ª—è QuestCity —Å–µ–π—á–∞—Å

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:** –£ –≤–∞—Å –µ—Å—Ç—å –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥—ã
- ‚úÖ PostgreSQL –ª–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ùå MinIO –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å  
- ‚ùå Health Checker –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–∞—á–Ω–∏—Ç–µ —Å –ø–æ–ª–Ω–æ–π –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ [18_STARTUP_DEPENDENCIES_ANALYSIS.md](18_STARTUP_DEPENDENCIES_ANALYSIS.md)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é —Å—Ä–µ–¥—É (–∑–∞–¥–∞—á–∏ HIGH-007, HIGH-008)
2. –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å staging —Å—Ä–µ–¥—É –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
4. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤ production

---

**–ò—Ç–æ–≥:** –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ = –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä, –±—ã—Å—Ç—Ä–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ. –£–¥–∞–ª–µ–Ω–Ω–∞—è = –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞, —Ä–µ–∞–ª—å–Ω–æ, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ. –ù–∞—á–∏–Ω–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ! üöÄ 