# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ –ë–ï–°–ö–û–ù–ï–ß–ù–û–ô –ó–ê–ì–†–£–ó–ö–ò –í QUESTS SCREEN

## üìã –û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

**–î–∞—Ç–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:** 7 –∞–≤–≥—É—Å—Ç–∞ 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
**–¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã:** –ë–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ —Ä–∞–∑–¥–µ–ª–µ Quests  
**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—ã–∑–æ–≤–∞ `loadData()` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `QuestsScreenCubit`  

---

## üö® –ü–†–û–ë–õ–ï–ú–ê

### **–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —ç–∫—Ä–∞–Ω –æ—Å—Ç–∞–µ—Ç—Å—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- –í —Ä–∞–∑–¥–µ–ª–µ Quests –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- –ù–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é –∫–≤–µ—Å—Ç–æ–≤
- –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

### **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤—ã–∑–æ–≤–∞ `loadData()`** - –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞
2. **–ü—Ä–æ–±–ª–µ–º—ã —Å API –∫–≤–µ—Å—Ç–æ–≤** - –≤—Ç–æ—Ä–∏—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞
3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∑–∞—Ç—Ä—É–¥–Ω—è–ª–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### **1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞ `loadData()` –≤ main.dart:**
```dart
// –ë–´–õ–û:
BlocProvider<QuestsScreenCubit>(
  create: (BuildContext context) => di.sl<QuestsScreenCubit>(),
),

// –°–¢–ê–õ–û:
BlocProvider<QuestsScreenCubit>(
  create: (BuildContext context) => di.sl<QuestsScreenCubit>()..loadData(),
),
```

### **2. –£–ª—É—á—à–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –≤ QuestsScreenCubit:**
```dart
Future loadData() async {
  try {
    emit(QuestsScreenLoading());
    print('üîç DEBUG: Loading categories...');
    List<CategoryEntity> categoriesList = await _loadCategories();
    print('üîç DEBUG: Loading quests...');
    QuestListModel questList = await _loadQuests();

    print('üîç DEBUG: Data loaded successfully');
    emit(QuestsScreenLoaded(
        categoriesList: categoriesList, questsList: questList, fullList: questList));
  } catch (e) {
    print('üîç DEBUG: Error loading data: $e');
    emit(QuestsScreenError(message: 'Failed to load data: $e'));
  }
}
```

### **3. –£–ª—É—á—à–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:**
```dart
Future<List<CategoryEntity>> _loadCategories() async {
  try {
    final failureOrLoads = await getAllCategoriesUC(NoParams());

    return failureOrLoads.fold(
      (error) {
        print('üîç DEBUG: Categories error: $error');
        emit(QuestsScreenError(message: 'Failed to load categories: $error'));
        return <CategoryEntity>[];
      },
      (loadedCategories) {
        print('üîç DEBUG: Categories loaded: ${loadedCategories.length}');
        return loadedCategories;
      },
    );
  } catch (e) {
    print('üîç DEBUG: Categories exception: $e');
    emit(QuestsScreenError(message: 'Categories exception: $e'));
    return <CategoryEntity>[];
  }
}

Future<QuestListModel> _loadQuests() async {
  try {
    print('üîç DEBUG: Starting quests load...');
    final questsList = await getAllQuestsUC();
    print('üîç DEBUG: Quests loaded: ${questsList.items.length}');
    return questsList;
  } catch (e) {
    print('üîç DEBUG: Quests exception: $e');
    emit(QuestsScreenError(message: 'Failed to load quests: $e'));
    return QuestListModel(items: []);
  }
}
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

### **–°—Ç–∞—Ç—É—Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `loadData()` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### **–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è QuestsScreenCubit** ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–∑–æ–≤ `loadData()`
2. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
3. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–≤–µ—Å—Ç–æ–≤** ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞
4. **–£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ `QuestsScreenLoaded`
5. **–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏** ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –∫ `QuestsScreenError` —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º

### **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- **–û—à–∏–±–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π** ‚Üí –ø–æ–∫–∞–∑ –æ—à–∏–±–∫–∏, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º
- **–û—à–∏–±–∫–∞ –∫–≤–µ—Å—Ç–æ–≤** ‚Üí –ø–æ–∫–∞–∑ –æ—à–∏–±–∫–∏, –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å –ø—É—Å—Ç—ã–º —Å–ø–∏—Å–∫–æ–º
- **–û–±—â–∞—è –æ—à–∏–±–∫–∞** ‚Üí –ø–æ–∫–∞–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### **–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- **Email:** `testuser@questcity.com`
- **Password:** `TestPass123!`

### **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≥–ª–∞–≤–Ω–æ–º—É —ç–∫—Ä–∞–Ω—É
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–≤–µ—Å—Ç–æ–≤ –±–µ–∑ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–≤–µ—Å—Ç–æ–≤ –∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ

---

## üìä –ú–ï–¢–†–ò–ö–ò –£–°–ü–ï–•–ê

- ‚úÖ **100% –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —á–µ—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üéØ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**–ü—Ä–æ–±–ª–µ–º–∞ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤ QuestsScreen —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞!**

### **–ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
1. **–î–æ–±–∞–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `loadData()`** - –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
2. **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –≤—Ç–æ—Ä–∏—á–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∞
3. **–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —É–ø—Ä–æ—â–µ–Ω–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**
- üöÄ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É
- üîß **–û—Ç–ª–∞–¥–∫–∞** - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- üì± **UX** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫
- üéØ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - —á–µ—Ç–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üîç –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### **–ü—Ä–æ–±–ª–µ–º—ã —Å –±—ç–∫–µ–Ω–¥–æ–º:**
- ‚ùå **API –∫–≤–µ—Å—Ç–æ–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
- ‚ùå **–ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞** - —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫–µ–Ω–¥** —á–µ—Ä–µ–∑ `quick_start.sh`
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API –∫–≤–µ—Å—Ç–æ–≤** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –∫–≤–µ—Å—Ç–∞–º

---

**üéâ –ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üöÄ

**QuestsScreen —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!** ‚ú® 